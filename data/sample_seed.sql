-- Sample seed data for testing
-- This is a minimal example until ecom_rag_seed_v2.sql is provided

-- Policies table
CREATE TABLE IF NOT EXISTS policies (
    id SERIAL PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    body TEXT NOT NULL,
    category VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- FAQ table
CREATE TABLE IF NOT EXISTS faq (
    id SERIAL PRIMARY KEY,
    question VARCHAR(500) NOT NULL,
    answer TEXT NOT NULL,
    category VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Products table
CREATE TABLE IF NOT EXISTS products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(500) NOT NULL,
    description TEXT NOT NULL,
    category VARCHAR(100),
    price DECIMAL(10, 2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Sample policies (expanded for diversity)
INSERT INTO policies (id, title, body, category) VALUES
(1, 'Политика за връщане на стоки', 'Можете да върнете продукти в рамките на 30 дни от датата на покупка. Продуктът трябва да бъде неизползван и в оригиналната опаковка. За да заявите връщане, моля свържете се с нашия отдел за обслужване на клиенти на телефон 0700 12 345 или на имейл returns@shop.bg. При одобрено връщане, сумата се възстановява в рамките на 14 работни дни.', 'returns'),
(2, 'Политика за гаранция', 'Всички продукти имат 24-месечна гаранция от датата на покупка. Гаранцията покрива производствени дефекти, но не покрива повреди от неправилна употреба, падане или контакт с течности. За сервизно обслужване е необходима касова бележка и гаранционна карта. Ремонтът се извършва в срок до 30 работни дни.', 'warranty'),
(3, 'Политика за доставка', 'Доставката се извършва в рамките на 2-5 работни дни за градове в страната. Безплатна доставка при поръчки над 100 лв. За експресна доставка (1 работен ден) се начислява допълнителна такса от 15 лв. Доставяме до офис на куриер или до адрес. При отсъствие куриерът ще се свърже с вас за насрочване на нова дата.', 'shipping'),
(4, 'Политика за поверителност', 'Вашите лични данни се обработват съгласно GDPR и Закона за защита на личните данни. Ние не споделяме вашата информация с трети страни без ваше изрично съгласие. Данните се използват само за обработка на поръчки, комуникация с вас и подобряване на услугите ни. Имате право на достъп, корекция и изтриване на вашите данни по всяко време.', 'privacy'),
(5, 'Политика за плащания', 'Приемаме плащане с кредитни и дебитни карти (Visa, Mastercard, Maestro), банков превод и наложен платеж. При наложен платеж се начислява допълнителна такса от 3 лв. Всички онлайн плащания се обработват през сигурна система с SSL криптиране. Данните на вашата карта не се съхраняват на нашите сървъри.', 'payment'),
(6, 'Политика за рекламации', 'При получаване на дефектен или повреден продукт, моля уведомете ни в рамките на 48 часа. Необходимо е да предоставите снимки на продукта и опаковката. Ние ще организираме безплатна замяна или пълно възстановяване на сумата, включително разходите за доставка. Рекламациите се обработват в срок до 14 работни дни.', 'complaints'),
(7, 'Политика за промоции и отстъпки', 'Промоционалните кодове могат да се използват само веднъж на поръчка и не могат да се комбинират с други отстъпки. Промоциите са валидни за посочения период и се прилагат автоматично при плащане. Продуктите в промоция не подлежат на допълнителни отстъпки. Запазваме си правото да променяме условията на промоциите без предизвестие.', 'promotions'),
(8, 'Политика за лоялност', 'При всяка покупка натрупвате точки за лоялност - 1 точка за всеки изразходван лев. 100 точки = 5 лв отстъпка при следваща покупка. Точките са валидни 12 месеца от датата на натрупване. VIP клиенти (над 1000 лв годишен оборот) получават допълнителни 10% бонус точки при всяка покупка.', 'loyalty'),
(9, 'Политика за корпоративни клиенти', 'Предлагаме специални условия за фирми и организации. При поръчки над 5000 лв предоставяме корпоративна отстъпка от 15%, безплатна доставка и удължен срок за плащане до 30 дни. За повече информация и индивидуална оферта, моля свържете се с нашия корпоративен отдел на b2b@shop.bg.', 'corporate'),
(10, 'Политика за екологична отговорност', 'Ангажирани сме да намалим екологичния си отпечатък. Използваме рециклируеми опаковки и биоразградими материали където е възможно. Предлагаме програма за рециклиране на стари електронни устройства - върнете старото ви устройство при покупка на ново и получете 5% отстъпка. Партнираме си с лицензирани фирми за третиране на електронни отпадъци.', 'ecology');

-- Sample FAQ (expanded for diversity)
INSERT INTO faq (id, question, answer, category) VALUES
(1, 'Как мога да проследя моята поръчка?', 'След изпращане на поръчката ще получите имейл с номер за проследяване (tracking number). Можете да проследите пратката чрез нашия сайт в секция "Моите поръчки" или директно в сайта на куриера (Speedy, Econt). Обикновено пратката пристига в рамките на 2-5 работни дни.', 'orders'),
(2, 'Какви са опциите за плащане?', 'Приемаме плащане с кредитни/дебитни карти (Visa, Mastercard, Maestro), банков превод (с фактура) и наложен платеж. При наложен платеж се начислява допълнителна такса от 3 лв. Онлайн плащанията се обработват през сигурна система с 3D Secure защита.', 'payment'),
(3, 'Мога ли да променя адреса за доставка след направена поръчка?', 'Да, можете да промените адреса преди изпращане на пратката. Моля свържете се с нас възможно най-скоро на телефон 0700 12 345 или на имейл support@shop.bg. След като пратката е предадена на куриера, промяна на адреса може да се направи директно при куриерската фирма.', 'shipping'),
(4, 'Какво да направя ако продуктът пристигне повреден?', 'Ако продуктът пристигне повреден или дефектен, моля свържете се с нас в рамките на 48 часа на телефон 0700 12 345 или имейл returns@shop.bg. Необходимо е да изпратите снимки на повредата. Ще организираме безплатна замяна или пълно възстановяване на сумата, включително разходите за доставка.', 'returns'),
(5, 'Имате ли физически магазини?', 'Да, имаме три физически магазина в София (бул. Витоша 15), Пловдив (ул. Главна 42) и Варна (бул. Приморски 88). Работното време е 9:00-18:00, понеделник-петък, и 10:00-14:00 в събота. Можете да разгледате и закупите продукти на място или да получите консултация от нашите специалисти.', 'stores'),
(6, 'Колко време отнема доставката?', 'Стандартната доставка отнема 2-5 работни дни за градове в страната. За София и Пловдив обикновено доставяме в рамките на 1-2 работни дни. Предлагаме и експресна доставка (следващ работен ден) срещу допълнителна такса от 15 лв. За селски райони срокът може да бъде до 7 работни дни.', 'shipping'),
(7, 'Как мога да анулирам поръчка?', 'Можете да анулирате поръчка до 24 часа след нейното направяне, преди да е била изпратена. Свържете се с нас на телефон 0700 12 345 или имейл support@shop.bg с номера на поръчката. Ако вече сте платили онлайн, сумата ще бъде възстановена в рамките на 5-10 работни дни.', 'orders'),
(8, 'Издавате ли фактура?', 'Да, издаваме фактура при поискване. Моля посочете фирмени данни (име на фирма, ЕИК, адрес, МОЛ) при направяне на поръчката или изпратете ги на email invoices@shop.bg в рамките на 5 дни от получаване на продукта. Фактурата се изпраща на посочения имейл адрес в PDF формат.', 'payment'),
(9, 'Предлагате ли отстъпка за студенти?', 'Да, предлагаме 10% отстъпка за студенти при покупка на лаптопи, таблети и аксесоари. Необходимо е да предоставите валидна студентска карта или удостоверение за редовно обучение. Отстъпката важи само в нашите физически магазини и при покупка на цена над 300 лв.', 'promotions'),
(10, 'Как да използвам промо код?', 'При оформяне на поръчката в кошницата ще видите поле "Промо код" или "Код за отстъпка". Въведете кода и кликнете "Приложи". Отстъпката ще се приложи автоматично преди плащане. Промо кодовете не могат да се комбинират с други активни промоции и са валидни за посочения период.', 'promotions'),
(11, 'Има ли гаранция на продуктите?', 'Всички продукти имат минимум 24-месечна гаранция от датата на покупка съгласно българското законодателство. Някои продукти идват с удължена производствена гаранция до 36 месеца. За гаранционно обслужване е необходима касова бележка или фактура. Гаранцията покрива производствени дефекти, но не покрива механични повреди или неправилна употреба.', 'warranty'),
(12, 'Предлагате ли разсрочено плащане?', 'Да, предлагаме разсрочено плащане на до 12 месечни вноски без оскъпяване за покупки над 500 лв. Разсрочването се извършва чрез банков кредит. Необходимо е да имате валидна лична карта и да отговаряте на критериите на банката партньор. Одобрението става на място в магазина за 15-20 минути.', 'payment'),
(13, 'Мога ли да поръчам продукт, който не е наличен?', 'Да, можете да направите предварителна поръчка (pre-order) за продукти които очакваме да бъдат налични скоро. Обикновено срокът е 7-14 работни дни. Ще бъдете уведомени по имейл или телефон когато продуктът пристигне. Плащането се извършва при получаване или можете да платите предварително с 5% отстъпка.', 'orders'),
(14, 'Как мога да се свържа с поддръжката?', 'Можете да се свържете с нашата поддръжка по следните начини: Телефон 0700 12 345 (9:00-18:00, делнични дни), Имейл support@shop.bg (отговаряме в рамките на 24 часа), Чат на сайта (налично в работно време), или посетете физически магазин. За бързи въпроси можете да използвате и нашата Facebook страница.', 'support'),
(15, 'Предлагате ли сервиз и ремонт?', 'Да, предлагаме сервизни услуги за всички продадени от нас продукти. За извънгаранционен ремонт правим безплатна диагностика и оферта. Срокът за ремонт обикновено е 5-10 работни дни. За гаранционен ремонт предоставяме заместващо устройство при необходимост (при наличност). Сервизът работи всеки делничен ден от 9:00 до 17:00.', 'warranty');

-- Sample products (expanded for diversity)
INSERT INTO products (id, name, description, category, price) VALUES
(1, 'Лаптоп Dell XPS 13', 'Висококачествен ултрабук с 13.4-инчов InfinityEdge дисплей, Intel Core i7-1355U процесор (до 5.0GHz), 16GB LPDDR5 RAM и 512GB NVMe SSD. Тегло само 1.2 кг, батерия до 12 часа. Windows 11 Pro. Идеален за професионална работа, програмиране и мултимедия. 2 години гаранция.', 'computers', 2499.00),
(2, 'Безжични слушалки Sony WH-1000XM5', 'Премиум over-ear слушалки с активно шумопотискане (ANC) и 8 микрофона. Автоматична адаптация към околната среда. До 30 часа автономия, бързо зареждане (3 мин = 3 часа). Bluetooth 5.2, поддръжка на LDAC, aptX HD. Мека меморийна пяна, сгъваем дизайн. Приложение за персонализация.', 'audio', 599.00),
(3, 'Смартфон Samsung Galaxy S23', 'Флагмански смартфон с 6.1-инчов Dynamic AMOLED 2X екран (120Hz), Snapdragon 8 Gen 2 процесор. Тройна камера: 50MP широкоъгълна, 12MP ultra-wide, 10MP telephoto (3x optical zoom). 8GB RAM, 256GB storage. 5G, Wi-Fi 6E, безжично зареждане. Водоустойчив IP68. Android 14.', 'phones', 1899.00),
(4, 'Механична клавиатура Logitech MX Keys', 'Професионална безжична механична клавиатура с подсветка на клавишите. Възможност за свързване с до 3 устройства едновременно (Bluetooth или USB приемник). Интелигентна подсветка с сензор. Метален корпус, тихи клавиши. Батерия до 10 дни (със светлина) или 5 месеца (без светлина). Съвместима с Windows, Mac, Linux.', 'accessories', 189.00),
(5, 'Монитор LG UltraWide 34"', '34-инчов извит ултра-широк монитор с QHD резолюция (3440x1440), 21:9 съотношение. IPS панел, 99% sRGB, HDR10. 144Hz refresh rate, 1ms response time (GtG). FreeSync Premium. 2x HDMI, DisplayPort, USB-C (65W Power Delivery). Регулируема височина и наклон. Идеален за многозадачност, гейминг и дизайн.', 'monitors', 899.00),
(6, 'Таблет Apple iPad Air 5', '10.9-инчов Liquid Retina дисплей с True Tone. Apple M1 чип с 8-core CPU и 8-core GPU. 64GB storage. 12MP широкоъгълна камера, 12MP ultra-wide front camera с Center Stage. Touch ID, Apple Pencil (2nd gen) поддръжка. Wi-Fi 6, Bluetooth 5.0. До 10 часа батерия. iPadOS 17. Лек и мощен за творчество и работа.', 'tablets', 1299.00),
(7, 'Смарт часовник Samsung Galaxy Watch 6', '1.5-инчов Super AMOLED дисплей (480x480), Exynos W930 процесор. Проследяване на над 90 спортни дейности, GPS, пулсомер, blood oxygen monitoring, sleep tracking, EKG. 2GB RAM, 16GB storage. До 40 часа батерия. Водоустойчив 5ATM. Wear OS, съвместим с Android и iOS. Включени силиконова и кожена каишка.', 'wearables', 499.00),
(8, 'Геймърско кресло Herman Miller x Logitech G Embody', 'Ергономично геймърско кресло, проектирано за дълги игрови сесии. Пикселна поддръжка на гърба, регулируеми подлакътници в 4 посоки, люлеещ механизъм. Дишаща материя, устойчива на износване. Товароносимост до 136 кг. 12 години гаранция. Налично в черен и син цвят. Препоръчано от киропрактори и e-sport професионалисти.', 'furniture', 1899.00),
(9, 'Безжична мишка Logitech MX Master 3S', 'Ергономична безжична мишка за професионална употреба. 8K DPI сензор (400-8000 DPI). Тихи кликове, 7 програмируеми бутона, хоризонтално скролване. Свързване с до 3 устройства, Bluetooth или USB. Батерия до 70 дни. Бързо зареждане (1 мин = 3 часа). Съвместима с Windows, Mac, Linux, Chrome OS. Включен USB-C кабел.', 'accessories', 179.00),
(10, 'Външни твърд диск WD My Passport 5TB', 'Преносим външен HDD с USB 3.2 Gen 1 (до 5Gbps). 256-bit AES хардуерно криптиране, парола защита. Автоматичен backup с WD Backup софтуер. Съвместим с Windows (изисква форматиране за Mac). Компактен дизайн 11 x 8 x 2 см, тегло 250г. 3 години гаранция. Идеален за backup на снимки, видео, документи.', 'storage', 259.00),
(11, 'Уеб камера Logitech Brio 4K', '4K Ultra HD уеб камера (4096 x 2160 @ 30fps) с HDR и RightLight 3. Автофокус, 5x цифров zoom. Двойни всепосочни микрофони с шумопотискане. 90° поглед. USB-C свързване. Windows Hello facial recognition. Клипс за монитор, трипод резба. Идеална за streaming, видео конференции, YouTube. Plug and play.', 'accessories', 329.00),
(12, 'Безжични наушници Apple AirPods Pro 2', 'In-ear слушалки с активно шумопотискане и адаптивна транспарентност. H2 чип за по-добро качество на звука. Персонализиран spatial audio с dynamic head tracking. До 6 часа слушане (до 30 с кейса). MagSafe и Qi зареждане. IPX4 водоустойчивост. Четири размера силиконови накрайници. Find My поддръжка. USB-C кейс.', 'audio', 499.00),
(13, 'Геймърска клавиатура Razer BlackWidow V4 Pro', 'Механична клавиатура с Razer Green суичове (tactile and clicky). RGB Chroma подсветка с 16.8 милиона цвята. Програмируеми макро бутони, мултимедиен контролер. Магнитна подложка за китки. Braided USB-C кабел. Onboard памет за до 5 профила. Razer Synapse софтуер. Метална рамка, дълготрайност 80 милиона натискания.', 'gaming', 399.00),
(14, 'Принтер HP LaserJet Pro M404dn', 'Черно-бял лазерен принтер с автоматичен duplex печат. Скорост до 40 стр/мин. Първа страница за 5.6 сек. 350-листов тава + 100-листов multipurpose tray. Ethernet, USB. HP Smart софтуер за мобилен печат. Месечен цикъл до 80,000 стр. Съвместим с Windows, Mac, Linux. Ниски разходи за печат. Идеален за малки офиси.', 'printers', 649.00),
(15, 'NAS Synology DS923+ 4-Bay', 'Мрежов сторидж с 4 HDD bay слота (до 72TB капацитет). AMD Ryzen R1600 2-core CPU, 4GB DDR4 ECC RAM (разширяем до 32GB). 2x M.2 NVMe SSD slots за кеш. Dual 1GbE LAN порта. RAID 0, 1, 5, 6, 10, JBOD. Btrfs файлова система, snapshot защита. DSM 7 ОС. Подходящ за домашен сървър, media streaming, backup, surveillance.', 'storage', 1099.00),
(16, 'Графична карта NVIDIA GeForce RTX 4070 Ti', 'High-end графична карта с 12GB GDDR6X памет, 7680 CUDA cores. Boost clock 2610 MHz. Ray tracing 3rd gen, DLSS 3 с AI Frame Generation. PCIe 4.0, 3x DisplayPort 1.4a, 1x HDMI 2.1. Препоръчително 750W захранване. TDP 285W. Идеална за 4K гейминг, 3D рендериране, AI workloads. 3 години гаранция.', 'components', 1799.00),
(17, 'Мишка Razer DeathAdder V3 Pro', 'Безжична геймърска мишка с Focus Pro 30K оптичен сензор (до 30,000 DPI). Razer HyperSpeed Wireless (2.4GHz) или Bluetooth. 8 програмируеми бутона. До 90 часа батерия. Оптични switch-ове Gen-3 (90 милиона кликове). Тегло 63г. Ергономичен дизайн за дясна ръка. USB-C зареждане. Razer Chroma RGB. Включен USB Type-A адаптер.', 'gaming', 249.00),
(18, 'Маршрутизатор TP-Link Archer AX73', 'Wi-Fi 6 (802.11ax) dual-band рутер с комбинирана скорост до 5400Mbps (4804 + 574 Mbps). 6 антени, 4x Gigabit LAN, 1x Gigabit WAN, USB 3.0. Quad-core 1.5GHz CPU, 512MB RAM. OFDMA, MU-MIMO, Beamforming. TP-Link HomeCare security (родителски контрол, антивирус). Покритие до 250 кв.м. Лесна настройка с Tether приложение.', 'networking', 279.00),
(19, 'Слушалки Bose QuietComfort 45', 'Over-ear слушалки с активно шумопотискане и Aware Mode. Balanced sound signature с TriPort технология. До 24 часа батерия, бързо зареждане (15 мин = 3 часа). Bluetooth 5.1, мултиточково свързване. Сгъваем дизайн, включен калъф. Удобни наушници от меморийна пяна. Приложение Bose Music за персонализация. 2 години гаранция.', 'audio', 549.00),
(20, 'Уеб камера Elgato Facecam Pro', '4K60 HDR уеб камера с Sony STARVIS CMOS сензор. 4K @ 60fps или 1080p @ 60fps. Fixed focus, f/2.4 aperture, 82° field of view. USB 3.0. Физическа privacy shutter. Camera Hub софтуер за контрол на експозиция, цветове, zoom. Метален корпус. Монтаж на монитор или трипод. Идеална за streaming, професионални видео разговори.', 'accessories', 449.00);

-- Success message
DO $$
BEGIN
    RAISE NOTICE 'Sample seed data inserted successfully';
END $$;

